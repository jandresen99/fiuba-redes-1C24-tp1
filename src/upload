from socket import *
from lib.utils import get_upload_args
    
def upload_file(host, port, file_name):
    message = f"Sending file {file_name}"
    
    clientSocket = socket(AF_INET, SOCK_DGRAM)
    clientSocket.sendto(message.encode(), (host, port))
    print(f"Message sent: {message}")
    
    data, serverAddr = clientSocket.recvfrom(1024)
    print(f"Response received: {data.decode()}")
    

def main():
    args = get_upload_args()
    upload_file(args.host, args.port, args.name)
    
if __name__ == "__main__":
    main()
